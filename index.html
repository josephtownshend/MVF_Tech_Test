<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Favourite langauge</title>
  </head>
  <body>

    <form id="name-form">
      <p>
        <label>Enter your GitHub username</label><br>
        <input type="text" name="fullName">
      </p>
      <p>
        <input type="submit" value="Submit">
      </p>
    </form>

    <p id ="result"></p>

    <p id="faveLanguage"></p>

    <script>

      var form = document.getElementById('name-form');
      form.onsubmit = function(e) {
        e.preventDefault();
        var result = document.getElementById('result');
        result.innerHTML = form.fullName.value;
        this.reset();
      };


      const url = 'https://api.github.com/users/josephtownshend/repos'

      fetch(url)
      .then((response) => response.json())
      .then(function(data) {
      const primaryLanguages = data.map(function(language) {
        return language.language;
      })
      console.log(primaryLanguages)

      function countLanguages(language, count) {
        language[count] = (++language[count] || 1);
        return language;
      }
      const primaryLanguageCount = primaryLanguages.reduce(countLanguages, {});
      console.log(primaryLanguageCount);

      let arrCount = Object.values(primaryLanguageCount);

      var largestCount = Math.max.apply(Math, arrCount);

      for (let value in primaryLanguageCount) {
        let key = primaryLanguageCount[value];
          if (key == largestCount)
          console.log(value);
          // var faveLanguage = document.getElementById('faveLanguage');
          // faveLanguage.innerHTML = value;
        }




    });




    </script>



  </body>
</html>
